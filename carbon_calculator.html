<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personal Carbon Emissions Calculator</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .container { max-width: 500px; margin: auto; }
        input, button, select { width: 100%; margin: 10px 0; padding: 10px; }
    </style>
</head>
<body>

    <div class="container">
        <h2>Personal Carbon Emissions Calculator</h2>
        <p><i>for San Diego residents</i></p>
        
        <label>Car commute distance (km per month)</label>
        <input type="number" id="car_distance" placeholder="Enter km">

        <label>Plane travel distance (km per month)</label>
        <input type="number" id="plane_distance" placeholder="Enter km">

        <label>Other transport distance (km per month)</label>
        <input type="number" id="other_distance" placeholder="Enter km">

        <label>Monthly electricity consumption (kWh)</label>
        <input type="number" id="electricity" placeholder="Enter kWh">

        <label>Waste generated per week (kg)</label>
        <input type="number" id="waste" placeholder="Enter kg">

        <label>Meals per day</label>
        <input type="number" id="meals" placeholder="Enter number of meals">

        <label>Diet</label>
        <select id="diet">
            <option value="omnivore">Omnivore</option>
            <option value="pescatarian">Pescatarian</option>
            <option value="vegetarian">Vegetarian</option>
            <option value="vegan">Vegan</option>
        </select>
        <button onclick="calculateEmissions()">Calculate CO2 Emissions</button>

        <p><i><small>(Yearly emissions, based on EPA guidelines)</small></i></p>
        <p id="results"></p>
    </div>

    <script>
        const EMISSION_FACTORS = {
            Electricity: 0.225,
            Diet: {
                omnivore: 2.5,
                pescatarian: 2.0,
                vegetarian: 1.5,
                vegan: 1.0
            },
            Waste: 0.275,
            Transportation: {
                car: 0.251,
                plane: 0.285,
                other: 0.3
            }
        };
        
        const CO2_PER_TREE_PER_YEAR = 58;

        function calculateEmissions() {
            const car_distance = parseFloat(document.getElementById("car_distance").value) || 0;
            const plane_distance = parseFloat(document.getElementById("plane_distance").value) || 0;
            const other_distance = parseFloat(document.getElementById("other_distance").value) || 0;
            const electricity = parseFloat(document.getElementById("electricity").value) || 0;
            const waste = parseFloat(document.getElementById("waste").value) || 0;
            const meals = parseFloat(document.getElementById("meals").value) || 2;
            const diet = document.getElementById("diet").value;
            
            const yearly_car_distance = car_distance * 12;
            const yearly_plane_distance = plane_distance * 12;
            const yearly_other_distance = other_distance * 12;
            const yearly_meals = meals * 365;
            const yearly_waste = waste * 52;
            
            const electricity_emissions = (EMISSION_FACTORS.Electricity * electricity * 12).toFixed(2);
            const diet_emissions = (EMISSION_FACTORS.Diet[diet] * yearly_meals).toFixed(2);
            const waste_emissions = (EMISSION_FACTORS.Waste * yearly_waste).toFixed(2);
            const car_emissions = (EMISSION_FACTORS.Transportation.car * yearly_car_distance).toFixed(2);
            const plane_emissions = (EMISSION_FACTORS.Transportation.plane * yearly_plane_distance).toFixed(2);
            const other_emissions = (EMISSION_FACTORS.Transportation.other * yearly_other_distance).toFixed(2);
            
            const total_transportation_emissions = (parseFloat(car_emissions) + parseFloat(plane_emissions) + parseFloat(other_emissions)).toFixed(2);
            const total_emissions = (parseFloat(electricity_emissions) + parseFloat(diet_emissions) + parseFloat(waste_emissions) + parseFloat(total_transportation_emissions)).toFixed(2);
            const trees_needed = Math.round(total_emissions / CO2_PER_TREE_PER_YEAR);

            document.getElementById("results").innerHTML = `
                <strong>Results:</strong><br>
                Car: ${car_emissions} kg COâ‚‚ per year<br>
                Plane: ${plane_emissions} kg COâ‚‚ per year<br>
                Other transport: ${other_emissions} kg COâ‚‚ per year<br>
                <strong>Total Transportation: ${total_transportation_emissions} kg COâ‚‚ per year</strong><br>
                Electricity: ${electricity_emissions} kg COâ‚‚ per year<br>
                Diet: ${diet_emissions} kg COâ‚‚ per year<br>
                Waste: ${waste_emissions} kg COâ‚‚ per year<br>
                <strong>Total: ${total_emissions} kg COâ‚‚ per year</strong><br>
                Trees needed to offsetðŸŒ³: ${trees_needed}
            `;
        }
    </script>

</body>
</html>
